#!/bin/zsh

# Install antigen if necessary
if [ ! -d ~/.antigen ]; then
    echo "Installing antigen"
    git clone https://github.com/zsh-users/antigen.git ~/.antigen
fi

# Load Antigen
source ~/.antigen/antigen.zsh

# Load the oh-my-zsh's library.
antigen use oh-my-zsh
antigen bundle vi-mode
antigen bundle zsh-users/zsh-completions src
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-history-substring-search
antigen theme caiogondim/bullet-train-oh-my-zsh-theme bullet-train
antigen apply

# Bullet Train configuration
BULLETTRAIN_PROMPT_ORDER=(
    status
    dir
    git
)
export BULLETTRAIN_GIT_EXTENDED=false
export BULLETTRAIN_DIR_BG=7
export BULLETTRAIN_DIR_FG=0
export BULLETTRAIN_GIT_BG=4

# dircolors
eval $(dircolors)

# bind C-k and C-j for history browsing
bindkey '^K' history-substring-search-up
bindkey '^J' history-substring-search-down

# Completions
zstyle ':completion:*' menu select

# Aliases
alias e=$EDITOR
alias ls="ls -h --color=auto"
alias l=ls
alias ll="ls -l"
alias la="ls -a"
alias lla="ls -la"
alias pac=pacaur
alias cmus="tmux a -t cmus 2>/dev/null || tmux new -s cmus cmus"
